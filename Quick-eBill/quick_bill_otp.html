<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quick bill</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./quick_bill_otp.css" />
    <link rel="stylesheet" href="./../fonts/font.css" />
    <link rel="stylesheet" href="./header.css" />
    <link rel="stylesheet" href="./footer.css" />
  </head>
  <body>
    <header class="header-desktop">
      <div class="container">
        <div class="sub-header-logo">
          <div class="logo-wrapper">
            <div>
              <a href="https://www.ntplc.co.th/onlinestore/home">
                <img
                  src="./assets/images/header-footer-images/nt-logo-desktop.svg"
                  data-sf-ec-immutable=""
                />
              </a>
            </div>
            <div>
              <a href="https://www.ntplc.co.th/onlinestore/home">
                <img
                  src="./assets/images/header-footer-images/eservice-logo-desktop.svg"
                  data-sf-ec-immutable=""
                />
              </a>
            </div>
            <div>
              <div class="lang-wraper">
                <p class="wrapper-desc-text">EN</p>
                <img
                  src="./assets/images/header-footer-images/US-Flag.svg"
                  data-sf-ec-immutable=""
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <header class="header-mobile">
      <div class="container">
        <div class="sub-header-logo">
          <div class="logo-wrapper">
            <div>
              <div class="lang-wraper">
                <p class="wrapper-desc-text">EN</p>
                <img
                  src="./assets/images/header-footer-images/US-Flag.svg"
                  data-sf-ec-immutable=""
                />
              </div>
            </div>
            <div>
              <a href="https://www.ntplc.co.th/onlinestore/home">
                <img
                  src="./assets/images/header-footer-images/eservice-logo-mobile.svg"
                  data-sf-ec-immutable=""
                />
              </a>
            </div>
            <div>
              <a href="https://www.ntplc.co.th/onlinestore/home">
                <img
                  src="./assets/images/header-footer-images/nt-logo-mobile.svg"
                  data-sf-ec-immutable=""
                />
              </a>
            </div>
          </div>
        </div>
      </div>
    </header>

   
    <div class="content-main">
      <div class="containernopad content-main-wrapper">
        <div class="container-site">
          <img src="./assets/images/otp_bill.png" data-sf-ec-immutable="" />
          <h1>รหัสยืนยัน OTP</h1>
          <p class="phone-number">
            ใส่รหัสยืนยัน OTP ที่ส่งผ่านทาง SMS ของคุณ:
            <span id="phoneNumber">081234XXXX</span>
          </p>
          <p class="mob-data">OTP Ref: <span id="otpRef">XXMYY</span></p>
          <div class="otp-container">
            <input type="text" maxlength="1" class="otp-input" placeholder="" />
            <input type="text" maxlength="1" class="otp-input" placeholder="" />
            <input type="text" maxlength="1" class="otp-input" placeholder="" />
            <input type="text" maxlength="1" class="otp-input" placeholder="" />
          </div>
          <button class="submit-btn" id="submitBtn">ส่งข้อมูล</button>
          <p class="timer">
            เหลือเวลาอีก =
            <span id="timer" style="color: cornflowerblue;font-weight: bold;">01.00</span>
          </p>
          <a class="resend" id="resendBtn">ส่งรหัส OTP ใหม่</a>
        </div>
      </div>
    </div>
    <footer>
      <div class="container footer-block">
        <div class="body-block-warpper">
          <p class="wrapper-notice-text text-yellowcolor text-center">
            © Copyright 2022 NATIONAL TELECOM PUBLIC COMPANY LIMITED. All rights
            reserved.
          </p>
          <p class="wrapper-notice-text text-yellowcolor text-center space-top">
            เว็บไซต์สามารถใช้งานได้ดีกับ Internet Explorer 10 ขึ้นไป หรือ Google
            Chrome / Firefox เวอร์ชั่นล่าสุด
          </p>
        </div>
      </div>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const inputs = document.querySelectorAll(".otp-input");
        const submitBtn = document.getElementById("submitBtn");
        const resendBtn = document.getElementById("resendBtn");
        const timerElement = document.getElementById("timer");
        let timeLeft = 59;

        inputs.forEach((input, index) => {
          input.addEventListener("input", (e) => {
            if (e.target.value.length === 1) {
              if (index < inputs.length - 1) {
                inputs[index + 1].focus();
              }
            }
          });
          input.addEventListener("keydown", (e) => {
            if (e.key === "Backspace" && !e.target.value && index > 0) {
              inputs[index - 1].focus();
            }
          });
        });

        const updateTimer = () => {
          const minutes = Math.floor(timeLeft / 60);
          const seconds = timeLeft % 60;
          timerElement.textContent = `${String(minutes).padStart(
            2,
            "0"
          )}:${String(seconds).padStart(2, "0")}`;

          if (timeLeft === 0) {
            clearInterval(timerInterval);
            resendBtn.style.display = "inline";
            submitBtn.disabled = true;
          } else {
            timeLeft--;
          }
        };

        let timerInterval = setInterval(updateTimer, 1000);

        submitBtn.addEventListener("click", () => {
          const otp = Array.from(inputs)
            .map((input) => input.value)
            .join("");

          if (otp.length !== 4 || !/^\d+$/.test(otp)) {
            inputs.forEach((input) => {
              input.classList.add("error");
              setTimeout(() => input.classList.remove("error"), 500);
            });
            return;
          }

          if (otp === "1234") {
            alert("การยืนยัน OTP สำเร็จ!");
            inputs.forEach((input) => {
              input.style.borderColor = "#4CAF50";
            });
            submitBtn.disabled = true;
          } else {
            inputs.forEach((input) => {
              input.classList.add("error");
              input.style.borderColor = "#ff4444";
            });
            alert("รหัส OTP ไม่ถูกต้อง กรุณาลองใหม่อีกครั้ง");
          }
        });

        resendBtn.addEventListener("click", () => {
          timeLeft = 1;
          timerInterval = setInterval(updateTimer, 1000);
          resendBtn.style.display = "none";
          submitBtn.disabled = false;
          inputs.forEach((input) => {
            input.value = "";
            input.style.borderColor = "#ddd";
            input.classList.remove("error");
          });
          inputs[0].focus();
        });
      });
    </script>
  </body>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>
</html>
